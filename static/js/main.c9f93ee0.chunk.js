(this.webpackJsonpkodu_1=this.webpackJsonpkodu_1||[]).push([[0],[,,,,,function(e,a,t){e.exports=t(14)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(3),i=t.n(l),o=(t(10),t(4)),u=t(1),c=(t(11),t(12),function(e){var a=Object(n.useState)(""),t=Object(u.a)(a,2),l=t[0],i=t[1],o=Object(n.useState)(""),c=Object(u.a)(o,2),s=c[0],d=c[1],v=Object(n.useState)("FCFS"),m=Object(u.a)(v,2),f=m[0],b=m[1],p=function(e){d(e.target.value),i({1:"0,7;1,5;2,3;3,1;4,2;5,1",2:"0,2;0,4;12,4;15,5;21,10",3:"0,4;1,5;2,2;3,1;4,6;6,3"}[e.target.value])},h=function(e){b(e.target.value)};return r.a.createElement("form",{onSubmit:function(a){e.onSubmitted(l,f),a.preventDefault()}},r.a.createElement("h1",null,"OS kodut\xf6\xf6 1, protsessoriaja planeerimine ja visualisatsioon"),r.a.createElement("h3",null,"Testmuster: "),r.a.createElement("input",{type:"text",pattern:"^((\\d+,\\d+;?){1,12})$",value:l,onChange:function(e){d(""),i(e.target.value)}}),r.a.createElement("div",{className:"radio-container"},r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"1",name:"first",checked:"1"===s,onChange:p}),"Esimene n\xe4idismuster")),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"2",name:"second",checked:"2"===s,onChange:p}),"Teine n\xe4idismuster")),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"3",name:"third",checked:"3"===s,onChange:p}),"Kolmas n\xe4idismuster"))),r.a.createElement("div",{className:"radio-container"},r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"FCFS",name:"FCFS",checked:"FCFS"===f,onChange:h}),"FCFS")),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"SJF",name:"SJF",checked:"SJF"===f,onChange:h}),"SRTF")),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"2-level FCFS",name:"2-level FCFS",checked:"2-level FCFS"===f,onChange:h}),"2-level FCFS")),r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement("input",{type:"radio",value:"RR4",name:"RR4",checked:"RR4"===f,onChange:h}),"RR4"))),r.a.createElement("button",{type:"submit"},"N\xe4ita protsesside visualisatsiooni"))}),s=(t(13),function(e){var a=Object(n.useState)([]),t=Object(u.a)(a,2),l=t[0],i=t[1],o={P1:"#FFEE58",P2:"#F48FB1",P3:"#9575CD",P4:"#42A5F5",P5:"#26A69A",P6:"#FF9800",P7:"#90A4AE"};return Object(n.useEffect)((function(){var a=e.processes.reduce((function(e,a){return e+a.duration}),0),t=0,n=e.processes.map((function(e){var n,l="".concat(t," - ").concat(t+e.duration);t+=e.duration,n=e.working?e.label&&o[e.label]?o[e.label]:"red":"white";var i={width:"".concat(e.duration/a*100,"%"),background:n};return r.a.createElement("div",{className:"process",style:i,key:2e4*Math.random()},e.label?e.label:" "," ",e.label?":":""," ",e.duration,r.a.createElement("div",{className:"process-from-to"},e.working?l:""))}));i(n)}),[e.processes]),e.displayed?r.a.createElement("div",{className:"rendered-processes-container"},r.a.createElement("span",null,"Ooteaeg: ",e.waitingTime),r.a.createElement("div",{className:"rendered-processes"},l)):r.a.createElement("div",{className:"process-missing-message"},"Vali \xfclevalt n\xe4idismuster, v\xf5i sisesta enda oma. Siis vali algoritm, ja vajuta nupule. Ooteaeg ja protsessivisualisatsioon ilmub siia")}),d=function(e){var a=[],t=0,n=0;return e.forEach((function(e){t++;var r=e[0],l=e[1];if(r>n){var i=r-n;a.push({working:!1,duration:i}),n+=i}a.push({working:!0,label:"P".concat(t),duration:l,arrival:r}),n+=l})),a},v=function(e){var a=[],t=0,n=[],r=[];e.forEach((function(e){t++;var a=e[0],l=e[1];l<=5?n.push({arrival:a,duration:l,working:!0,label:"P".concat(t)}):r.push({arrival:a,duration:l,working:!0,label:"P".concat(t)})}));for(var l=0;n.length+r.length!==0;){var i=n.findIndex((function(e){return e.arrival<=l})),o=r.findIndex((function(e){return e.arrival<=l}));if(-1!==i){var u=n[i];a.push({duration:u.duration,working:!0,label:u.label,arrival:u.arrival}),l+=u.duration,n.splice(i,1)}else-1===i&&-1===o&&(a.push({duration:1,working:!1}),l++);-1!==o&&-1===i&&function(){var e=r[o],t=n.findIndex((function(a){return a.arrival<=l+e.duration}));if(-1!==t){var i=n[t],u=i.arrival-l;a.push({duration:u,working:!0,label:e.label,arrival:e.arrival}),a.push({duration:i.duration,working:!0,label:i.label,arrival:i.arrival}),n.splice(t,1),r[o].duration=e.duration-u,l+=u+i.duration}else a.push({duration:e.duration,working:!0,label:e.label,arrival:e.arrival}),l+=e.duration,r.splice(o,1)}()}return a},m=function(e){var a=[],t=0,n=[];e.forEach((function(e){t++;var a=e[0],r=e[1];n.push({arrival:a,duration:r,working:!0,label:"P".concat(t)})}));var r=0,l=0;for(n.forEach((function(e,a){n[l].duration>e.duration&&n[a].arrival<=r&&(l=a)}));0!==n.length;)n.forEach((function(e,a){n[l]?n[l].duration>e.duration&&n[a].arrival<=r&&(l=a):n[a].arrival<=r&&(l=a)})),-1!==l?(a.push({duration:1,working:!0,arrival:n[l].arrival,label:n[l].label}),n[l].duration-=1,0===n[l].duration&&(n.splice(l,1),l=-1)):a.push({duration:1,working:!1}),r++;for(var i=0;i<a.length-1;i++)for(var o=0;o<a.length-1;o++)a[o].label===a[o+1].label&&(a[o].duration+=a[o+1].duration,a.splice(o+1,1));return a},f=function(e){var a=[],t=0,n=[];e.forEach((function(e){t++;var a=e[0],r=e[1];n.push({arrival:a,duration:r,working:!0,label:"P".concat(t)})}));var r=0;0!==n[0].arrival&&a.push({duration:n[0].arrival?n[0].arrival:0,working:!1});for(var l=function(){var e=!1;n.sort((function(e,a){return a.arrival-e.arrival})),n.forEach((function(t,l){if(console.log(t.label),t.arrival<=r&&!e){console.log(t.arrival,r),e=!0;var i=Math.min(4,t.duration);a.push({duration:i,working:!0,label:t.label,arrival:t.arrival}),t.duration=t.duration-i,r+=i,t.duration<=0&&n.splice(l,1)}})),e||(r+=1,a.push({duration:1,working:!1}))};0!==n.length;)l();return a},b=function(e){console.log(e);var a={},t={},n={},r=0;e.forEach((function(e,n){e.label&&(a[e.label]=e.arrival,t[e.label]=e.duration),r+=e.duration}));var l=0;Object(o.a)(e).reverse().forEach((function(e,a){e.label&&void 0===n[e.label]&&(n[e.label]=r-l),l+=e.duration}));var i=0;return Object.keys(a).forEach((function(e){i+=Math.abs(t[e]+a[e]-n[e])})),i/Object.keys(a).length},p=function(){var e=Object(n.useState)(""),a=Object(u.a)(e,2),t=a[0],l=a[1],i=Object(n.useState)(""),o=Object(u.a)(i,2),p=o[0],h=o[1],E=Object(n.useState)(!1),g=Object(u.a)(E,2),k=g[0],F=g[1],w=Object(n.useState)([]),S=Object(u.a)(w,2),j=S[0],O=S[1],C=Object(n.useState)(0),y=Object(u.a)(C,2),P=y[0],R=y[1];return Object(n.useEffect)((function(){var e=t;";"===e[e.length-1]&&(e=e.slice(0,e.length-1));var a=e.split(";").map((function(e){return e.split(",")})).map((function(e){return[parseInt(e[0]),parseInt(e[1])]}));"FCFS"===p&&O(d(a)),"SJF"===p&&O(m(a)),"RR4"===p&&O(f(a)),"2-level FCFS"===p&&O(v(a))}),[t,p]),Object(n.useEffect)((function(){R(b(j))}),[j]),r.a.createElement("div",{className:"App"},r.a.createElement(c,{onSubmitted:function(e,a){h(a),l(e),F(!0)}}),r.a.createElement(s,{displayed:k,processes:j,waitingTime:P}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.c9f93ee0.chunk.js.map